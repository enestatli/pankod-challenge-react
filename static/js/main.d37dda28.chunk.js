(this["webpackJsonppankod-challenge-react"]=this["webpackJsonppankod-challenge-react"]||[]).push([[0],Array(26).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(19),s=n.n(i),a=n(2),o=(n(26),n(27),n(3)),l=(n(28),n(29),n(0)),j=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsxs)("div",{className:"limit-width",children:[Object(l.jsxs)("ul",{className:"footer-top",children:[Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"#",children:"Home"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"#",children:"Terms and Conditions"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"#",children:"Privacy and Policy"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"#",children:"Collection Statement"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"#",children:"Help"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"#",children:"Manage Account"})})]}),Object(l.jsx)("p",{className:"footer-copy",children:"Copyright \xa9 2016 Demo Streaming. All Rights Reserved."}),Object(l.jsxs)("div",{className:"footer-bottom",children:[Object(l.jsxs)("div",{className:"footer-bottom-left",children:[Object(l.jsx)(a.b,{to:"#",children:Object(l.jsx)("img",{src:"/facebook-white.svg",alt:"facebook-logo",width:"14px"})}),Object(l.jsx)(a.b,{to:"#",children:Object(l.jsx)("img",{src:"/twitter-white.svg",alt:"twitter-logo",width:"30px"})}),Object(l.jsx)(a.b,{to:"#",children:Object(l.jsx)("img",{src:"/instagram-white.svg",alt:"instagram-logo",width:"30px"})})]}),Object(l.jsxs)("div",{className:"footer-bottom-right",children:[Object(l.jsx)(a.b,{to:"#",children:Object(l.jsx)("img",{src:"/app-store.svg",alt:"app-store-logo",width:"135px"})}),Object(l.jsx)(a.b,{to:"#",children:Object(l.jsx)("img",{src:"/play-store.svg",alt:"play-store-logo",width:"135px"})}),Object(l.jsx)(a.b,{to:"#",children:Object(l.jsx)("img",{src:"/windows-store.svg",alt:"windows-store-logo",width:"110px"})})]})]})]})})},u=(n(36),function(){return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("h2",{className:"limit-width",children:"Popular Titles"})})}),d=(n(37),function(){return Object(l.jsx)("nav",{className:"navbar",children:Object(l.jsxs)("div",{className:"frame limit-width",children:[Object(l.jsx)(a.b,{to:"/",children:Object(l.jsx)("h1",{children:"DEMO Streaming"})}),Object(l.jsxs)("div",{className:"navbar-btn",children:[Object(l.jsx)("button",{className:"navbar-btn-login",children:"Log in"}),Object(l.jsx)("button",{className:"navbar-btn-cta",children:"Start your free trail"})]})]})})}),b=n(9),h=n(8),O={SET:"MEDIA_SET",SEARCH:"MEDIA_SEARCH",FILTER:"MEDIA_FILTER",LOADING:"LOADING"},x=function(e,t){switch(e){case"asc_year":return t.sort((function(e,t){return e.releaseYear-t.releaseYear}));case"desc_year":return t.sort((function(e,t){return t.releaseYear-e.releaseYear}));case"asc_title":return t.sort((function(e,t){return e.title<t.title?-1:e.title<t.title?1:0}));case"desc_title":return t.sort((function(e,t){return e.title>t.title?-1:e.title>t.title?1:0}));default:return t}},f={media:[],search_media:[],search_by_release:[],loading:!0},m=function(e,t){switch(t.type){case O.SET:return Object(h.a)(Object(h.a)({},e),{},{media:t.payload,loading:!1});case O.SEARCH:return Object(h.a)(Object(h.a)({},e),{},{media:(n=t.payload.query,c=t.payload.media,c.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())}))),loading:!1});case O.FILTER:return Object(h.a)(Object(h.a)({},e),{},{media:x(t.payload.query,t.payload.media),loading:!1});case O.LOADING:return Object(h.a)(Object(h.a)({},e),{},{loading:!0});default:return e}var n,c},g=Object(c.createContext)(Object(h.a)(Object(h.a)({},f),{},{setMedia:function(){},searchMedia:function(){},filterByDateAndTitle:function(){},loadMedia:function(){}})),p=function(e){var t=e.children,n=Object(c.useReducer)(m,f),r=Object(b.a)(n,2),i=r[0],s=r[1],a=i.media,o=i.search_media,j=i.search_by_release,u=i.loading;return Object(l.jsx)(g.Provider,{value:{setMedia:function(e){s({type:O.SET,payload:e})},filterByDateAndTitle:function(e,t){s({type:O.FILTER,payload:{media:e,query:t}})},searchMedia:function(e,t){s({type:O.SEARCH,payload:{media:e,query:t}})},loadMedia:function(){s({type:O.LOADING})},loading:u,media:a,search_media:o,search_by_release:j},children:t})},v=n(11),y=n.n(v),w=n(13),N={fetchData:function(){var e=Object(w.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:3000/data.json");case 3:return n=e.sent,e.next=6,n.json();case 6:t=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Error happens while fetching data in fetchData",e.t0);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},C=function(){var e=Object(w.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.fetchData();case 2:if((n=e.sent)&&n.entries&&n.total){e.next=5;break}return e.abrupt("return");case 5:return t(n.entries),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(c.useContext)(g).setMedia;Object(c.useEffect)((function(){C((function(t){return e(t)}))}),[])},_=(n(39),function(){var e=function(){var e=Object(c.useContext)(g),t=e.filterByDateAndTitle,n=e.loadMedia,r=Object(c.useState)(""),i=Object(b.a)(r,2),s=i[0],a=i[1];return Object(c.useEffect)((function(){n(),s.length,C((function(e){return t(e,s)}))}),[s]),{handleChange:function(e){var t=e.target.value;switch(n(),t){case"desc_year":case"asc_year":case"desc_title":case"asc_title":return a(t);default:return a("")}}}}().handleChange;return Object(l.jsxs)("form",{className:"filter-form",children:[Object(l.jsxs)("select",{name:"sort",onChange:e,children:[Object(l.jsx)("option",{value:"desc_year",children:"Year Descending"}),Object(l.jsx)("option",{value:"asc_year",children:"Year Ascending"}),Object(l.jsx)("option",{value:"desc_title",children:"Title Descending"}),Object(l.jsx)("option",{value:"asc_title",children:"Title Ascending"})]}),Object(l.jsx)("img",{src:"/down-arrow.svg",alt:"down arrow"})]})}),A=(n(40),function(){var e=function(){var e=Object(c.useContext)(g),t=e.searchMedia,n=e.loadMedia,r=Object(c.useState)(""),i=Object(b.a)(r,2),s=i[0],a=i[1];return Object(c.useEffect)((function(){s.length||(n(),C((function(e){return t(e,s)})))}),[s]),{handleSubmit:function(e){e.preventDefault(),s.length&&s.length>=3&&(n(),C((function(e){return t(e,s)})))},handleChange:function(e){(!e||e.target||e.target.value)&&a(e.target.value)}}}(),t=e.handleSubmit,n=e.handleChange;return Object(l.jsxs)("form",{className:"search-form",onSubmit:t,children:[Object(l.jsx)("input",{type:"search",placeholder:" Search...",onChange:n}),Object(l.jsx)("button",{children:Object(l.jsx)("img",{src:"/magnifier.svg",alt:"magnifier"})})]})}),E=(n(41),function(){return Object(l.jsxs)("section",{className:"input-bar limit-width",children:[Object(l.jsx)(A,{}),Object(l.jsx)(_,{})]})}),M=(n(42),function(e){var t=e.title,n=e.url;return Object(l.jsxs)(a.b,{to:"/".concat(n,"/1"),className:"thumbnail",children:[Object(l.jsxs)("div",{className:"frame",children:[Object(l.jsx)("img",{src:"/placeholder.png",alt:"Movie sign",width:"255px"}),Object(l.jsx)("h3",{children:t})]}),Object(l.jsx)("p",{className:"thumbnail-p",children:t})]})}),T=(n(43),function(e){var t=e.title,n=e.imgUrl;return Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("img",{src:n,alt:"Movie sign"}),Object(l.jsx)("p",{className:"card-p",children:t})]})}),D=(n(44),function(){return Object(l.jsx)("section",{children:Object(l.jsx)("p",{className:"error-text",children:"Oops, something went wrong"})})}),I=(n(45),function(){return Object(l.jsx)("section",{className:"loading",children:Object(l.jsx)("p",{className:"limit-width",children:"Loading..."})})}),L=(n(46),function(e){var t=e.value,n=e.onChange,c=e.range,r=e.mediaType,i=Object(o.f)(),s=Array.from({length:c},(function(e,t){return t+1}));return Object(l.jsx)("div",{className:"pagination-container",children:Object(l.jsx)("div",{className:"pagination",children:s.map((function(e){return Object(l.jsx)("button",{className:t===e?"active":"",onClick:function(){var t;"number"===typeof(t=e)&&t>0&&t<=c&&(i.push("/series/".concat(t)),"movie"===r&&i.push("/movies/".concat(t)),n(t))},children:e},e)}))})})}),k=function(e){var t=e.movies;return Object(c.useContext)(g).loading?Object(l.jsx)(I,{}):t.length?t.map((function(e,t){return Object(l.jsx)(T,{title:e.title,imgUrl:e.images["Poster Art"].url},t.toString())})):t.length?Object(l.jsx)(D,{}):Object(l.jsx)("h1",{children:"No search result found..."})},R=(n(47),function(){S();var e=Object(o.g)().id,t=Object(c.useContext)(g).media,n=Object(c.useState)(parseInt(e,10)),r=Object(b.a)(n,2),i=r[0],s=r[1],a=t.filter((function(e){return"movie"===e.programType}));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(E,{}),Object(l.jsxs)("div",{className:"movie-list",children:["1"===e&&Object(l.jsx)(k,{movies:a.slice(0,21)}),"2"===e&&Object(l.jsx)(k,{movies:a.slice(21)})]}),Object(l.jsx)(L,{value:i,range:Math.ceil(a.length/21),onChange:s,mediaType:"movie"})]})}),F=function(e){var t=e.series;return Object(c.useContext)(g).loading?Object(l.jsx)(I,{}):t.length?t.map((function(e,t){return Object(l.jsx)(T,{title:e.title,imgUrl:e.images["Poster Art"].url},t.toString())})):t.length?Object(l.jsx)(D,{}):Object(l.jsx)("h1",{children:"No search result found..."})},P=(n(48),function(){var e=Object(o.g)().id;S();var t=Object(c.useState)(parseInt(e,10)),n=Object(b.a)(t,2),r=n[0],i=n[1],s=Object(c.useContext)(g).media.filter((function(e){return"series"===e.programType}));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(E,{}),Object(l.jsxs)("div",{className:"series-list",children:["1"===e&&Object(l.jsx)(F,{series:s.slice(0,21)}),"2"===e&&Object(l.jsx)(F,{series:s.slice(21,43)}),"3"===e&&Object(l.jsx)(F,{series:s.slice(43)})]}),Object(l.jsx)(L,{value:r,range:Math.floor(s.length/21),onChange:i})]})}),H=function(e){var t=e.children;return Object(l.jsxs)("div",{children:[Object(l.jsx)(d,{}),Object(l.jsx)(u,{}),Object(l.jsx)("div",{className:"main",children:t}),Object(l.jsx)(j,{})]})},Y=(n(49),function(){return Object(l.jsx)("section",{className:"error limit-width",children:Object(l.jsx)(D,{})})}),B=(n(50),function(){return Object(l.jsxs)("div",{className:"homepage limit-width",children:[Object(l.jsx)(M,{title:"Movies",url:"movies"}),Object(l.jsx)(M,{title:"Series",url:"series"})]})}),q=(n(51),function(){return Object(l.jsx)("section",{className:"limit-width",children:Object(l.jsx)(R,{})})}),G=(n(52),function(){return Object(l.jsx)("section",{className:"limit-width",children:Object(l.jsx)(P,{})})});var U=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/",exact:!0,render:function(){return Object(l.jsx)(H,{children:Object(l.jsx)(B,{})})}}),Object(l.jsx)(o.a,{path:"/movies/:id",render:function(){return Object(l.jsx)(p,{children:Object(l.jsx)(H,{children:Object(l.jsx)(q,{})})})}}),Object(l.jsx)(o.a,{path:"/series/:id",render:function(){return Object(l.jsx)(p,{children:Object(l.jsx)(H,{children:Object(l.jsx)(G,{})})})}}),Object(l.jsx)(o.a,{render:function(){return Object(l.jsx)(H,{children:Object(l.jsx)(Y,{})})}})]})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),i(e),s(e)}))};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(a.a,{children:Object(l.jsx)(U,{})})}),document.getElementById("root")),J()}]),[[53,1,2]]]);
//# sourceMappingURL=main.d37dda28.chunk.js.map